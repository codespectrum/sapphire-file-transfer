{"name":"Sapphire-file-transfer","tagline":"","body":"# Sapphire File Transfer\r\n\r\n## What you should know\r\n\r\nThe application, in it's original configuration, requires very minimum configuration to work properly. Note however, that by being based on Laravel 5, a lot of alternative configurations are possible.\r\n\r\nThe installation chapter deals with the very minimum steps you need to get your application up and running. If you want to go further, and switch the local storage for an AWS S3 one for example, read the appropriate sections.\r\n\r\n\r\n## Requirements\r\n\r\nPhp >= 5.5 (if you need Php 5.4, drop us a line), with the following extensions\r\n\r\n* Mcrypt PHP Extension\r\n* OpenSSL PHP Extension\r\n* Mbstring PHP Extension\r\n* Tokenizer PHP Extension\r\n\r\nApache 2 (with mod_rewrite enabled) or Nginx\r\n\r\nMySQL or any other database supported by Laravel\r\n\r\n## Installation\r\n\r\nFirst of all, note that the installation process doesn't cover the server setup.\r\n\r\nHere you go:\r\n\r\n1. Deploy the files on your server.\r\n2. Set the document root of your project on the \"public\" folder of the application.\r\n3. Give server write/read access to the storage folder recursively (chmod 777 -R)\r\n4. Create a MySQL database with the name of your choice.\r\n5. Execute the following command from the root of your project: \"php artisan migrate\"\r\n6. Rename the .env.example to .env, and replace the variables (the configuration file is documented).\r\n7. Set-up your cron job as described in chapter \"Cron jobs\"\r\n8. Enjoy\r\n\r\nIf from here you struggle with getting it up and running, send us a quick mail with a detailed explanation of what's going wrong and your eventual errors. (You can also set the debug to true, to see more explanation on the faced error). Without clear information we won't be able to assist you.\r\n\r\nWe will enhance this installation process with all your feedback, so please, give us your feedback. \r\n\r\n## Configuration\r\n\r\n### Change the appearance of your application\r\n\r\nTo change your logo, background image, or even the html, look inside the 'resources/views' directory of the application. Replace whatever you need.\r\n\r\nIf you feel the need of a dedicated, user friendly admin interface, drop us a line, we might integrate this feature in an upcoming release.\r\n\r\n### Upload Max Size\r\n\r\nThere is actually no hard limit in the application for the file sizes. However you need to set an upload limit in your php.ini configuration.\r\n\r\nYou have to set the 2 following entries to the value of your choice: upload_max_filesize and post_max_size.\r\n\r\nIf you are using Nginx, please configure your server client_max_body_size accordingly.\r\n\r\nHere is some [nice article](https://rtcamp.com/tutorials/php/increase-file-upload-size-limit/).\r\n\r\n### Upload expiration\r\n\r\nYou can set the files lifetime en the .env configuration file.\r\nThe value must be set in hours, and defaults to a month (720hours = 24hours * 30days) \r\n\r\nEach time a file is uploaded, the expiration is stored on the file's row in the database, so if you change the lifetime, this will not affect existing files.\r\n\r\n### Cron jobs\r\n\r\nThe application must check on a regular basis if there are any close to expiration files, or expired files on the server to send appropriate notifications. Actually those checks are made every hour.\r\n\r\nYou only have to set-up one cron job as follow:\r\n\r\n```\r\n#!shell\r\n\r\n*/1 * * * * php /path/to/your/project/artisan schedule:run\r\n```\r\n\r\nThis will automatically know what to execute, at what frequency. You will only need to set this up once. All upcoming scheduled features will automatically be integrated without any further infrastructure considerations.\r\n\r\nWe plan on integrating a way to avoid needing to setup a cron job. We know it can be painful to set-up in some environments, and sometimes, it just isn't possible to do so. Tell us if you would love to see this feature, and we'll integrate it right away.\r\n\r\n\r\n\r\n### Localization\r\n\r\nEvery string in the application is localizable. Those localization files consist of simple array formatted as key/values.\r\nThose translations can be found in the following folder:\r\n\r\n```\r\n/resources/lang\r\n\r\n```\r\n\r\nYou can easily override existing translations, or create a new directory with the key of your chosen language.\r\n\r\nNot that if a translation for a given key is not available for your language, the application will fallback to the english translation.\r\n\r\nRemember to send us your translations if you want to share them with the Envato community. We will list you in the contributors file.\r\n\r\n\r\n### Emails sending\r\n\r\n#### Email Sending\r\n\r\nBy default, all emails will be sent from your server, but everyone knows that this is not always desired/reliable.\r\nInstead you could use providers like [Mandrill](http://mandrill.com/) or [MailGun](http://www.mailgun.com/).\r\n\r\nThe easiest way to switch for such a provider, is by creating an account by the chosen provider, and replace the SMTP configuration of the .env file.\r\n\r\nYou can also change the email used to send the mail and the name of the sender from the config mail.\r\n\r\nFor more advanced configuration, feel free to checkout [Laravel's documentation on emails](http://laravel.com/docs/5.0/mail).\r\n\r\n#### Email Templating\r\n\r\nThe email templates can be found in \r\n\r\n```\r\n/resources/views/emails/{language}/{email-template-name}.blade.php\r\n\r\n```\r\n\r\nYou change the content and display of those emails there, or even add new translations by copy pasting the \"en\" directory and replacing the content of the templates.\r\n\r\nIf email templates are not available in the current configured language, the application will fallback to the english template.\r\n\r\n\r\n\r\n### Queues\r\n\r\nATTENTION: The Swift_Mailer library is not compatible with queues in daemon mode. This will throw SSL exceptions. Please do not run your queues daemon mode.\r\n\r\n\r\nBy default, queues are disabled, because the queue driver is set to \"sync\", meaning that all tasks will be executed synchronously. This means that for example, when a user uploads files, he has to wait till all email notifications are sent, and the files archive is built before being able to see the actual download page.\r\n\r\nIf you would like to optimize your application performances, and run those queuable tasks behind the scenes, you could use any other queue driver made available by Laravel 5.\r\nPlease take a look here: [Laravel Queues Documentation](http://laravel.com/docs/5.0/queues)\r\n\r\nNote that all external php required packages for all queues are already imported into the vendor directory. We also included the default \"database\" driver migration files. For infrastructure issues, please refer directly to the chosen driver's vendor documentation.\r\n\r\n## Advanced\r\n\r\n### Extend the backend\r\n\r\nIf you wish to extend the backend, feel free to do so. The application actually embraces the Laravel coding standards, so your best resource would be the [official Laravel documentation](http://laravel.com/).\r\n\r\nIf you think some implementations could be done better, drop us a line with your own implementation. We would love to integrate your version and add you to the contributors file.\r\n\r\n### Extend the frontend\r\n\r\nFor any frontend evolution, note that we leveraged the Laravel Elixir package to:\r\n\r\n* Compile the less files\r\n* Version the files\r\n\r\nOnce again, your best documentation resource would be the [official one](http://laravel.com/).\r\n\r\n\r\nWe handled our frontend dependencies with [bower](http://bower.io/).\r\n\r\n\r\n## Final note\r\n\r\nIf you have anything to say about this documentation, drop us a line at hello@codespectrum.io\r\n\r\nWe would gladly improve it with your very own recommendations and feedback.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}